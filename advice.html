<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Raspberry Pi GPIO Library: Advice on Use</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Raspberry Pi GPIO Library
   &#160;<span id="projectnumber">0.3</span>
   </div>
   <div id="projectbrief">Library allowing for control of the Raspberry Pi&#39;s GPIO pins.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Advice on Use </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="advice_include"></a>
Including the Library</h1>
<p>To use this library you must:</p>
<dl class="section user"><dt>Correctly Include the Header File</dt><dd>The header file <a class="el" href="rpiGpio_8h.html" title="The main header file of the GPIO library.">rpiGpio.h</a> must be included in whatever source files use a GPIO function i.e. #include "rpiGpio.h". You will also need to ensure that your compiler can find this header file. In GCC you can include the path to the directory the header resides with -I&lt;dir&gt;. E.g. <code><pre>
        gcc -I/path/to/RaspberryPi-GPIO-C/include/ -o &lt;outputfile&gt; \
                                                      &lt;input_list&gt;
</pre></code></dd></dl>
<dl class="section user"><dt>Ensure the library is correctly linked when compiling your source.</dt><dd>There are several methods to do this in GCC. You can provide a direct path to the library as if it was another source file. <code><pre>
        gcc -I/path/to/RaspberryPi-GPIO-C/include/ -o &lt;output_file&gt; \
            &lt;input_files&gt; 
            &lt;/path/to/RaspberryPi-GPIO-C/library/libRpiGpio.a&gt;
</pre></code> Or you can add the directoy which the library resides to the list of directories the linker checks for library files. The library path is specified with -L&lt;path&gt;. You then need to tell GCC that you want to use this particular library. This is done with -l&lt;lib-name&gt;. The lib_name is name of the library with the preceding "lib" and proceeding ".a" removed. libRpiGpio.a = RpiGpio <code><pre>
        gcc -I/path/to/RaspberryPi-GPIO-C/include/      \
            -L/path/to/RaspberryPi-GPIO-C/library       \
            -o outputfile &lt;input_file&gt;                \
            -lRpiGpio                                   
</pre></code></dd></dl>
<h1><a class="anchor" id="advice_using_lib"></a>
Library Functions</h1>
<dl class="section user"><dt>Initialisation</dt><dd>The first call which could always be made to initialise the library for use is <a class="el" href="gpio_8c.html#a0b78dc8e68922dfb7a99e8c73877d215" title="Maps the memory used for GPIO access. This function must be called prior to any of the other GPIO cal...">gpioSetup()</a>. It is in this function where the memory mapping of the pointer to the GPIO peripherals is done. <a class="el" href="gpio_8c.html#a0b78dc8e68922dfb7a99e8c73877d215" title="Maps the memory used for GPIO access. This function must be called prior to any of the other GPIO cal...">gpioSetup()</a> need only be called once, and afterwards - if successful - you may proceed use a pin as an output or an input.</dd></dl>
<dl class="section user"><dt>Output</dt><dd>To configure a GPIO pin as output call <a class="el" href="gpio_8c.html#a2224d22096f65052963234956131295a" title="Sets the functionality of the desired pin.">gpioSetFunction()</a> with the desired pin number and the function as <code>output</code>. You can now change the state of the pin with <a class="el" href="gpio_8c.html#a0f8b2ebd78a885645e4ec3886d610d89" title="Sets a pin to high or low.">gpioSetPin()</a>, passing in the desired pin number and either <code>high</code> or <code>low</code>.</dd></dl>
<dl class="section user"><dt>Internal Resistor</dt><dd>Depending on the configuration you may want to configure an internal resistor at pin or perhaps disable it. To do this call <a class="el" href="gpio_8c.html#a3d9bfe9b0e3a5c20dc8baaf21a36dcf6" title="Allows configuration of the internal resistor at a GPIO pin.">gpioSetPullResistor()</a> with the GPIO pin number in question and the desired resistor option. The internal resistor option is useful if you intend on using a switch, for example as you can generally get away without an external resistor. Just connect the switch to a GPIO and either GND / VCC with a pullup / pulldown resistor configured on the GPIO.</dd></dl>
<dl class="section user"><dt>Input</dt><dd>To configure a GPIO pin as input call <a class="el" href="gpio_8c.html#a2224d22096f65052963234956131295a" title="Sets the functionality of the desired pin.">gpioSetFunction()</a> with the desired pin number and the function as <code>input</code>. You can now read the state of the pin with <a class="el" href="gpio_8c.html#a849a1e5b4223c471ba73e6c09e28ae59" title="Reads the current state of a gpio pin.">gpioReadPin()</a>, passing in the desired pin number as well a pointer to a type eState which will hold the current state of the pin after the function returns.</dd></dl>
<dl class="section user"><dt>Cleanup</dt><dd>When finished with the GPIO pins, <a class="el" href="gpio_8c.html#a6846efae9091223b6f7652469dfbb38a" title="Unmaps the memory used for the gpio pins. This function should be called when finished with the GPIO ...">gpioCleanup()</a> should be called which will unmap the memory used to access the GPIO registers. </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 11 2013 23:45:21 for Raspberry Pi GPIO Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
